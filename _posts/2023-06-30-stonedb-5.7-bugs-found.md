# 2023-07-70-stonedb-5.7-bugs-found.md

Potential Bugs Found:

1. Column length too big for column 'c0' (max = 16383); use BLOB or TEXT instead
```sql
--java.lang.AssertionError: CREATE TABLE t0(c0 VARCHAR(65079) STORAGE MEMORY COLUMN_FORMAT DYNAMIC, c1 TIME  NULL COLUMN_FORMAT DYNAMIC) ;
--	at sqlancer.common.query.SQLQueryAdapter.checkException(SQLQueryAdapter.java:111)
--	at sqlancer.common.query.SQLQueryAdapter.execute(SQLQueryAdapter.java:93)
--	at sqlancer.Main$QueryManager.execute(Main.java:289)
--	at sqlancer.GlobalState.executeStatement(GlobalState.java:108)
--	at sqlancer.stonedb.StoneDBProvider.generateDatabase(StoneDBProvider.java:83)
--	at sqlancer.stonedb.StoneDBProvider.generateDatabase(StoneDBProvider.java:1)
--	at sqlancer.ProviderAdapter.generateAndTestDatabase(ProviderAdapter.java:52)
--	at sqlancer.Main$DBMSExecutor.run(Main.java:388)
--	at sqlancer.Main$2.run(Main.java:583)
--	at sqlancer.Main$2.runThread(Main.java:565)
--	at sqlancer.Main$2.run(Main.java:556)
--	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
--	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
--	at java.base/java.lang.Thread.run(Thread.java:829)
--Caused by: java.sql.SQLSyntaxErrorException: Column length too big for column 'c0' (max = 16383); use BLOB or TEXT instead
--	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
--	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
--	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
--	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
--	at sqlancer.common.query.SQLQueryAdapter.execute(SQLQueryAdapter.java:87)
--	... 12 more
---- Time: 2023/06/30 16:00:15
-- Database: database16
-- Database version: 5.7.36-StoneDB-v1.0.3
-- seed value: 1688140815475
DROP DATABASE IF EXISTS database16;
CREATE DATABASE database16;
USE database16;
CREATE TEMPORARY TABLE IF NOT EXISTS t0(c0 DATETIME COMMENT ''  COLUMN_FORMAT FIXED STORAGE DISK) ;

```










## TODO



Docker image size bug


TIANMU engine but InnoDB engine bug.
<img width="1728" alt="image" src="https://github.com/ZhengLin-Li/ZhengLin-Li.github.io.jekflix/assets/63448884/3b577454-c171-4af5-a412-0443e870f50a">
